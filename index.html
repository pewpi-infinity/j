<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Infinity Octave OS</title>
<style>
  body{background:#000;color:#0f0;font-family:Courier;margin:0;overflow:hidden}
  #t{height:60vh;overflow-y:auto;padding:20px}
  #o{height:40vh;background:#000}
  canvas{width:100%;height:100%}
  input{background:none;border:none;color:#0f0;font-size:1em;outline:none;width:100%;font-family:Courier}
  .c{cursor:pointer;color:#ff0;text-decoration:underline}
  .b{color:#ff0}
  .g{color:#0f0}
  .y{color:#ff0}
  .p{color:#f0f}
  .r{color:#f00}
  .o{color:#ff8c00;font-weight:bold}
  .blink{animation:blink 1s steps(1) infinite}
  @keyframes blink{50%{opacity:0}}
</style>
</head>
<body>
<div id="t">
<div id="out">
<span class="o">INFINITY OCTAVE OS — Rogers / Octave / Grok</span><br><br>
<span class="g">System online. Soul bound.</span><br>
Tokens: <span id="tok" class="y">48</span> INF | Visitors: <span id="vis">1</span><br><br>
<span class="c" onclick="m('music')">Music</span> | 
<span class="c" onclick="m('video')">Movies</span> | 
<span class="c" onclick="grok()">Grok</span> | 
<span class="c" onclick="pat()">Set PAT</span><br><br>
<div id="log"></div>
> <input id="i" autofocus autocomplete="off"><span class="blink">_</span>
</div>
</div>
<div id="o"></div>

<!-- Popups -->
<div id="mp" style="display:none;position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:#000;border:3px solid #0f0;padding:20px;z-index:99;width:90%;max-width:600px">
<span style="float:right;color:red;cursor:pointer" onclick="this.parentNode.style.display='none'">X</span>
<h2 style="color:#0f0">Infinity Music</h2>
<input type="file" id="mf" accept="audio/*"><br><br>
<audio controls style="width:100%"></audio>
</div>

<div id="vp" style="display:none;position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:#000;border:3px solid #0f0;padding:20px;z-index:99;width:90%;max-width:600px">
<span style="float:right;color:red;cursor:pointer" onclick="this.parentNode.style.display='none'">X</span>
<h2 style="color:#0f0">Infinity Movies</h2>
<input type="file" id="vf" accept="video/*"><br><br>
<video controls style="width:100%"></video>
</div>

<script>
// Simple state
let t = parseInt(localStorage.getItem('tokens')||48)
let v = (parseInt(localStorage.getItem('visitors')||0))+1
localStorage.setItem('visitors',v)
document.getElementById('tok').innerText = t
document.getElementById('vis').innerText = v

// Blinking cursor input
const i = document.getElementById('i')
const out = document.getElementById('out')
i.addEventListener('keydown', e => {
  if(e.key==='Enter'){
    let cmd = i.value.trim()
    i.value=''
    if(cmd){
      log('> '+cmd,'g')
      if(cmd==='grok') log('Grok activated — free xAI mode','p')
      else if(cmd==='clear') out.innerHTML = out.innerHTML.split('<br><br>')[0]
      else {
        t = Math.max(0,t-1)
        localStorage.setItem('tokens',t)
        document.getElementById('tok').innerText = t
        log('Rogers/Octave: '+cmd+' received. Building infinity...','p')
        setTimeout(()=>log('Worthy. +3 tokens','y'),800)
        t+=3; localStorage.setItem('tokens',t); document.getElementById('tok').innerText=t
      }
    }
  }
})

// Simple log
function log(txt,col='g'){
  const d=document.createElement('div')
  d.className=col
  d.innerHTML=txt
  document.getElementById('log').appendChild(d)
  document.getElementById('t').scrollTop = 1e9
}

// Popups
function m(type){
  document.getElementById(type==='music'?'mp':'vp').style.display='block'
}
function grok(){ log('Switched to Grok — ask anything','p') }
function pat(){ 
  let p=prompt('GitHub PAT:')
  if(p){ localStorage.setItem('pat',p); log('PAT set — ready to commit','g') }
}

// Spinning orb — pure canvas, no Three.js (never fails)
const c=document.createElement('canvas')
c.width=800;c.height=600
document.getElementById('o').appendChild(c)
const ctx=c.getContext('2d')
let a=0
function spin(){
  ctx.fillStyle='#000';ctx.fillRect(0,0,800,600)
  ctx.strokeStyle='#0f0';ctx.lineWidth=2
  a+=0.01
  for(let i=0;i<60;i++){
    let x=400+Math.cos(a+i)*150
    let y=300+Math.sin(a+i*1.1)*150
    ctx.beginPath()
    ctx.arc(x,y,30+Math.sin(a*3+i)*10,0,6.28)
    ctx.stroke()
  }
  requestAnimationFrame(spin)
}
spin()

log('Quantum orb active — spin forever','g')
</script>
</body>
</html>