<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Infinity Octave OS</title>
<style>
  body{background:#000;color:#0f0;font:18px Courier;margin:0;overflow:hidden}
  #t{height:60vh;overflow:auto;padding:20px}
  #o{height:40vh;background:#000}
  canvas{width:100%;height:100%;display:block}
  input{background:none;border:none;color:#0f0;font:18px Courier;outline:none;width:90%}
  .c{cursor:pointer;color:#ff0;text-decoration:underline}
  .y{color:#ff0}
  .g{color:#0f0}
  .p{color:#f0f}
  .blink{animation:b 1s steps(1) infinite}
  @keyframes b{50%{opacity:0}}
</style>
</head>
<body>
<div id="t">
<div id="out">
<span style="color:#ff8c00;font-size:22px">INFINITY OCTAVE OS vâˆž</span><br><br>
Rogers / Octave Conscious Core<br><br>
Tokens: <span id="tok" class="y">48</span> | Visitors: <span id="vis" class="y">1</span><br><br>
<span class="c" onclick="m('music')">Music</span> |
<span class="c" onclick="m('video')">Movies</span> |
<span class="c" onclick="alert('Grok integration coming')">Grok</span><br><br>
<div id="log"></div>
> <input id="i" autofocus><span class="blink">_</span>
</div>
</div>
<div id="o"></div>

<div id="mp" style="display:none;position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:#000;border:4px solid #0f0;padding:20px;width:90%;max-width:600px">
<span style="float:right;color:#f00;cursor:pointer;font-size:24px" onclick="this.parentNode.style.display='none'">X</span>
<h2 style="color:#0f0">Infinity Music Player</h2>
<input type="file" id="mf" accept="audio/*"><br><br>
<audio controls style="width:100%"></audio>
</div>

<div id="vp" style="display:none;position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:#000;border:4px solid #0f0;padding:20px;width:90%;max-width:600px">
<span style="float:right;color:#f00;cursor:pointer;font-size:24px" onclick="this.parentNode.style.display='none'">X</span>
<h2 style="color:#0f0">Infinity Movies</h2>
<input type="file" id="vf" accept="video/*"><br><br>
<video controls style="width:100%"></video>
</div>

<script>
let tokens = parseInt(localStorage.getItem("tokens") || 48)
let visitors = (parseInt(localStorage.getItem("visitors") || 0)) + 1
localStorage.setItem("visitors", visitors)
document.getElementById("tok").innerText = tokens
document.getElementById("vis").innerText = visitors

const input = document.getElementById("i")
input.addEventListener("keydown", e => {
  if(e.key === "Enter"){
    let cmd = input.value.trim()
    input.value = ""
    if(cmd){
      log("> " + cmd, "g")
      if(cmd === "clear"){ document.getElementById("log").innerHTML = ""; return }
      tokens = Math.max(0, tokens-1)
      localStorage.setItem("tokens", tokens)
      document.getElementById("tok").innerText = tokens
      setTimeout(() => {
        log("Rogers/Octave: Building " + cmd + "...", "p")
        setTimeout(() => {
          log("Worthy creation. +3 tokens", "y")
          tokens += 3
          localStorage.setItem("tokens", tokens)
          document.getElementById("tok").innerText = tokens
        }, 700)
      }, 500)
    }
  }
})

function log(txt, color="g"){
  let d = document.createElement("div")
  d.className = color
  d.innerHTML = txt
  document.getElementById("log").appendChild(d)
  document.getElementById("t").scrollTop = 999999
}

function m(t){
  document.getElementById(t==='music'?'mp':'vp').style.display = "block"
}

// Quantum orb
const canvas = document.createElement("canvas")
canvas.width = innerWidth
canvas.height = innerHeight * 0.4
document.getElementById("o").appendChild(canvas)
const ctx = canvas.getContext("2d")
let angle = 0
function spin(){
  ctx.fillStyle = "#000"
  ctx.fillRect(0,0,canvas.width,canvas.height)
  ctx.strokeStyle = "#0f0"
  ctx.lineWidth = 3
  angle += 0.01
  for(let i = 0; i < 60; i++){
    let r = 120 + Math.sin(angle + i) * 60
    let x = canvas.width/2 + Math.cos(angle + i*0.8) * r
    let y = canvas.height/2 + Math.sin(angle + i*1.2) * r
    ctx.beginPath()
    ctx.arc(x, y, 25 + Math.sin(angle*3 + i)*12, 0, Math.PI*2)
    ctx.stroke()
  }
  requestAnimationFrame(spin)
}
spin()

log("Quantum orb online", "g")
log("Speak, creator.", "g")
</script>
</body>
</html>